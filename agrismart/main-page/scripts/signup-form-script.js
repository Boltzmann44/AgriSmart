document.addEventListener('DOMContentLoaded', function() {
    const provinceValori = {
        "Chieti": 1,
        "L'Aquila": 2,
        "Pescara": 3,
        "Teramo": 4,
        "Matera": 5,
        "Potenza": 6,
        "Catanzaro": 7,
        "Cosenza": 8,
        "Crotone": 9,
        "Reggio Calabria": 10,
        "Vibo Valentia": 11,
        "Avellino": 12,
        "Benevento": 13,
        "Caserta": 14,
        "Napoli": 15,
        "Salerno": 16,
        "Bologna": 17,
        "Ferrara": 18,
        "Forlì-Cesena": 19,
        "Modena": 20,
        "Parma": 21,
        "Piacenza": 22,
        "Ravenna": 23,
        "Reggio Emilia": 24,
        "Rimini": 25,
        "Gorizia": 26,
        "Pordenone": 27,
        "Trieste": 28,
        "Udine": 29,
        "Frosinone": 30,
        "Latina": 31,
        "Rieti": 32,
        "Roma": 33,
        "Viterbo": 34,
        "Genova": 35,
        "Imperia": 36,
        "La Spezia": 37,
        "Savona": 38,
        "Bergamo": 39,
        "Brescia": 40,
        "Como": 41,
        "Cremona": 42,
        "Lecco": 43,
        "Lodi": 44,
        "Mantova": 45,
        "Milano": 46,
        "Monza e Brianza": 47,
        "Pavia": 48,
        "Sondrio": 49,
        "Varese": 50,
        "Ancona": 51,
        "Ascoli Piceno": 52,
        "Fermo": 53,
        "Macerata": 54,
        "Pesaro e Urbino": 55,
        "Campobasso": 56,
        "Isernia": 57,
        "Alessandria": 58,
        "Asti": 59,
        "Biella": 60,
        "Cuneo": 61,
        "Novara": 62,
        "Torino": 63,
        "Verbano-Cusio-Ossola": 64,
        "Vercelli": 65,
        "Bari": 66,
        "Barletta-Andria-Trani": 67,
        "Brindisi": 68,
        "Foggia": 69,
        "Lecce": 70,
        "Taranto": 71,
        "Cagliari": 72,
        "Nuoro": 73,
        "Oristano": 74,
        "Sassari": 75,
        "Sud Sardegna": 76,
        "Agrigento": 77,
        "Caltanissetta": 78,
        "Catania": 79,
        "Enna": 80,
        "Messina": 81,
        "Palermo": 82,
        "Ragusa": 83,
        "Siracusa": 84,
        "Trapani": 85,
        "Arezzo": 86,
        "Firenze": 87,
        "Grosseto": 88,
        "Livorno": 89,
        "Lucca": 90,
        "Massa-Carrara": 91,
        "Pisa": 92,
        "Pistoia": 93,
        "Prato": 94,
        "Siena": 95,
        "Bolzano": 96,
        "Trento": 97,
        "Perugia": 98,
        "Terni": 99,
        "Aosta": 100,
        "Belluno": 101,
        "Padova": 102,
        "Rovigo": 103,
        "Treviso": 104,
        "Venezia": 105,
        "Verona": 106,
        "Vicenza": 107
    };
    const regioni = {
        "1": ["Chieti", "L'Aquila", "Pescara", "Teramo"],
        "2": ["Matera", "Potenza"],
        "3": ["Catanzaro", "Cosenza", "Crotone", "Reggio Calabria", "Vibo Valentia"],
        "4": ["Avellino", "Benevento", "Caserta", "Napoli", "Salerno"],
        "5": ["Bologna", "Ferrara", "Forlì-Cesena", "Modena", "Parma", "Piacenza", "Ravenna", "Reggio Emilia", "Rimini"],
        "6": ["Gorizia", "Pordenone", "Trieste", "Udine"],
        "7": ["Frosinone", "Latina", "Rieti", "Roma", "Viterbo"],
        "8": ["Genova", "Imperia", "La Spezia", "Savona"],
        "9": ["Bergamo", "Brescia", "Como", "Cremona", "Lecco", "Lodi", "Mantova", "Milano", "Monza e Brianza", "Pavia", "Sondrio", "Varese"],
        "10": ["Ancona", "Ascoli Piceno", "Fermo", "Macerata", "Pesaro e Urbino"],
        "11": ["Campobasso", "Isernia"],
        "12": ["Alessandria", "Asti", "Biella", "Cuneo", "Novara", "Torino", "Verbano-Cusio-Ossola", "Vercelli"],
        "13": ["Bari", "Barletta-Andria-Trani", "Brindisi", "Foggia", "Lecce", "Taranto"],
        "14": ["Cagliari", "Nuoro", "Oristano", "Sassari", "Sud Sardegna"],
        "15": ["Agrigento", "Caltanissetta", "Catania", "Enna", "Messina", "Palermo", "Ragusa", "Siracusa", "Trapani"],
        "16": ["Arezzo", "Firenze", "Grosseto", "Livorno", "Lucca", "Massa-Carrara", "Pisa", "Pistoia", "Prato", "Siena"],
        "17": ["Bolzano", "Trento"],
        "18": ["Perugia", "Terni"],
        "19": ["Aosta"],
        "20": ["Belluno", "Padova", "Rovigo", "Treviso", "Venezia", "Verona", "Vicenza"]
    };
    
    const regioneSelect = document.getElementById('regioni');
    const provinceSelect = document.getElementById('province');
    
    regioneSelect.addEventListener('change', function() {
        const regioneSelezionata = regioneSelect.value;
        const province = regioni[regioneSelezionata] || [];
        // Rimuove tutte le opzioni esistenti nel campo province
        provinceSelect.innerHTML = '<option value="" selected disabled>Provincia</option>';
        // Aggiunge le nuove opzioni al campo province
        province.forEach(function(provincia) {
            const option = document.createElement('option');
            option.value = provinceValori[provincia];
            option.textContent = provincia;
            provinceSelect.appendChild(option);
        });
    });
});